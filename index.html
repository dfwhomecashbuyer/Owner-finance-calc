
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Owner Finance Deal Analyzer</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; max-width: 600px; margin: auto; }
        input, select, button { width: 100%; padding: 10px; margin: 5px 0; }
        .result { margin-top: 20px; padding: 10px; border: 1px solid #ccc; background: #f9f9f9; }
        .green { color: green; font-weight: bold; }
        .red { color: red; font-weight: bold; }
    </style>
</head>
<body>
<h2>Owner Finance Deal Analyzer</h2>

<label>Estimated Market Value ($):</label>
<input type="number" id="marketValue" value="70000">

<label>Markup Percentage (%):</label>
<input type="number" id="markupPercent" value="15">

<label>Monthly Rent ($):</label>
<input type="number" id="rent" value="1200">

<label>Interest Rate (%):</label>
<input type="number" id="interestRate" value="10">

<label>Loan Term (Years):</label>
<input type="number" id="loanTerm" value="30">

<label>Down Payment (%):</label>
<input type="number" id="downPaymentPercent" value="10">

<label>Select Offer Percentage of Market Value:</label>
<select id="offerPercent">
  <option value="50">50%</option>
  <option value="55">55%</option>
  <option value="60">60%</option>
  <option value="65">65%</option>
  <option value="70">70%</option>
  <option value="75" selected>75%</option>
</select>

<label>Calculated Offer Price ($):</label>
<input type="number" id="offerPrice">

<button onclick="calculate()">Calculate</button>

<div id="results" class="result"></div>

<script>
function calculate() {
    const marketValue = parseFloat(document.getElementById('marketValue').value);
    const markupPercent = parseFloat(document.getElementById('markupPercent').value);
    const rent = parseFloat(document.getElementById('rent').value);
    const interestRate = parseFloat(document.getElementById('interestRate').value) / 100 / 12;
    const loanTerm = parseFloat(document.getElementById('loanTerm').value) * 12;
    const downPaymentPercent = parseFloat(document.getElementById('downPaymentPercent').value);
    const offerPercent = parseFloat(document.getElementById('offerPercent').value);

    const offerPrice = marketValue * (offerPercent / 100);
    document.getElementById('offerPrice').value = offerPrice.toFixed(2);

    const salePrice = marketValue * (1 + markupPercent / 100);
    const loanAmount = salePrice * (1 - downPaymentPercent / 100);
    const downPayment = salePrice - loanAmount;

    const monthlyPI = (loanAmount * interestRate) / (1 - Math.pow(1 + interestRate, -loanTerm));
    const monthlyTI = (rent * 0.2);
    const monthlyPITI = monthlyPI + monthlyTI;

    const privateLenderPayment = offerPrice * (interestRate * 12); // assuming interest-only at annual interest
    const monthlyProfitWithTI = monthlyPITI - privateLenderPayment;
    const monthlyProfitWithoutTI = monthlyPI - privateLenderPayment;

    const maxLoanBuyerCanAfford = (rent - monthlyTI) * (1 - Math.pow(1 + interestRate, -loanTerm)) / interestRate;

    let dealGrade;
    if (offerPercent <= 60) dealGrade = "<span class='green'>Green Light Deal (Great)</span>";
    else if (offerPercent <= 70) dealGrade = "<span class='orange'>Yellow Light Deal (Maybe)</span>";
    else dealGrade = "<span class='red'>Red Light Deal (Too Much)</span>";

    document.getElementById('results').innerHTML = `
        <strong>Owner Finance Sale Price:</strong> $${salePrice.toFixed(2)}<br>
        <strong>Monthly P&I (Buyer):</strong> $${monthlyPI.toFixed(2)}<br>
        <strong>Private Lender Interest-Only Payment:</strong> $${privateLenderPayment.toFixed(2)}<br>
        <strong>Your Monthly Profit (if you collect full rent):</strong> $${monthlyProfitWithTI.toFixed(2)}<br>
        <strong>Your Monthly Profit (if buyer pays T&I separately):</strong> $${monthlyProfitWithoutTI.toFixed(2)}<br>
        <strong>Estimated Max Loan Buyer Can Afford:</strong> $${maxLoanBuyerCanAfford.toFixed(2)}<br>
        <strong>Actual Loan Amount:</strong> $${loanAmount.toFixed(2)}<br>
        <strong>Down Payment:</strong> $${downPayment.toFixed(2)}<br>
        <strong>Your Offer:</strong> $${offerPrice.toFixed(2)}<br>
        <strong>Deal Grade:</strong> ${dealGrade}
    `;
}
</script>

</body>
</html>
